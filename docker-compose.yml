services:
  book-sorter:
    build: .
    container_name: book-sorter
    env_file:
      - .env
    environment:
      - PUID=1027
      - PGID=100
      - TZ=Europe/Berlin
      - WAIT_SECONDS=30
    volumes:
      - /opt/book-sorter/config:/config
      - /mnt/synology-media/media/books/downloads:/downloads
      - /mnt/synology-media/media/books/fiction:/books/fiction
      - /mnt/synology-media/media/books/non-fiction:/books/non-fiction
      - /mnt/synology-media/media/books/papers:/books/papers
      - /mnt/synology-media/media/books/magazines:/books/magazines
      - /mnt/synology-media/media/books/unsorted:/books/unsorted
    networks:
      - nucbridge
    restart: unless-stopped

networks:
  nucbridge:
    external: true
